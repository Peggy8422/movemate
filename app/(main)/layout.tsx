import type { Metadata } from "next";
import "../globals.css";
import { ThemeProvider } from "@/components/next-theme-provider";
import NavHeader from "@/components/nav-header";
import {
  SidebarProvider,
  // SidebarTrigger,
  Sidebar,
  SidebarContent,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar";
import BrandLogo from "@/public/movemate_logo.svg";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faHome, faUser, faComments, faHeart } from "@fortawesome/free-solid-svg-icons";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

const sidebarItems = [
  {
    label: "首頁",
    href: "/",
    icon: faHome,
  },
  {
    label: "個人資料",
    href: "/profile",
    icon: faUser,
  },
  {
    label: "熱門社群",
    href: "/hot-community",
    icon: faComments,
  },
  {
    label: "我的收藏",
    href: "/my-collection",
    icon: faHeart,
  },
];

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={`antialiased`}>
        <ThemeProvider
          attribute="class"
          defaultTheme="system"
          enableSystem
          disableTransitionOnChange
        >
          <SidebarProvider>
            <Sidebar collapsible="icon">
              <SidebarContent>
                <SidebarGroup>
                  <SidebarGroupLabel className="font-baloo font-bold">
                    <BrandLogo 
                      fill="hsl(var(--primary))"
                      width={30}
                      height={30} 
                      className="mr-2"
                    />
                    MoveMate
                  </SidebarGroupLabel>
                  <SidebarGroupContent>
                    <SidebarMenu>
                      {sidebarItems.map((item) => (
                        <SidebarMenuItem key={item.label}>
                          <SidebarMenuButton asChild>
                            <a href={item.href}>
                              {/* <item.icon /> */}
                              <FontAwesomeIcon icon={item.icon} />
                              <span>{item.label}</span>
                            </a>
                          </SidebarMenuButton>
                        </SidebarMenuItem>
                      ))}
                    </SidebarMenu>
                  </SidebarGroupContent>
                </SidebarGroup>
              </SidebarContent>
            </Sidebar>
            <main className="w-full bg-gradient-to-b from-neutral-50 dark:from-neutral-900 to-secondary relative">
              {/* nav-header */}
              <NavHeader />
              {/* <SidebarTrigger /> */}
              {/* <div> */}
              {children}
              {/* </div> */}
            </main>
          </SidebarProvider>
        </ThemeProvider>
      </body>
    </html>
  );
}
